# Changelog

We document all notable changes to this project in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## [1.17.5]

* Add: Optional AWS session token.

## [1.17.4]

* Add: Decorator set command.

## [1.17.3]

* Add: Workflow run command.

## [1.17.2]

* Add: Initial Azure connection handling

## [1.17.1]

* Add: Retrieve metadata environment variables

## [1.17.0]

* Add: Support for custom spec field decoding via `UnmarshalText`

## [1.16.6]

* Fix: Improved flexibility of Git SSH handling.

## [1.16.5]

* Fix: Improved internal (and optional) base64 encoding.

## [1.16.4]

* Fix: Add retries to spec handling.

## [1.16.3]

* Fix: Allow outputs to be set to the empty string.

## [1.16.2]

* Fix: `ni gcp config` should prefer a GCP connection under `google.connection`

## [1.16.1]

* Fix: `ni aws config` should use an AWS connection if supplied

## [1.16.0]

* Add: Support for GCP access
* Add: Support kubernetes connections

## [1.15.0]

* Change: This first public release for Relay removes the non-Go SDK code from
  this repository.

## [1.14.1]

* Add: Initial support for markdown conversion.

## [1.14.0]

* Add: Support SSH private key connections in the Git helper.

## [1.13.1]

* Fix: Ensure `SignalTerminationPolicy` and `SoftTerminationPolicy` work with
  the Python webhook server's `serve_forever` method.

## [1.13.0]

* Add: Support emitting events in the Python SDK.
* Add: Provide a simple HTTP server preconfigured for our webhook environment
  that can run WSGI and ASGI applications.

## [1.12.4]

* Change: Support common YAML scalar types in addition to JSON types in
  expression evaluation.

## [1.12.3]

* Fix: Correctly propagate incompatible type information from JSONPath
  language evaluation.

## [1.12.2]

* Fix: Provide information about connection unresolvables in expression JSON
  result envelope.

## [1.12.1]

* Fix: Handle setting the metadata spec url correctly

## [1.12.0]

* Change: ni get uses the new /api/spec endpoint instead of /api/specs/:id
* Change: The API host is now looked up from the `$METADATA_API_URL`
  environment variable instead of `$SPEC_URL`

## [1.11.0]

* Add: Connection workflow spec

## [1.10.0]

* Add: Add trigger definition to the Workflow schema.
* Add: Add !Data handling to resolve external data against a query path.

## [1.9.2]

### Changed

* Fix: Allow the YAML parser for expressions to handle values other than
  mappings.

## [1.9.1]

### Build

* Upload SHA-256 checksums of Python build artifacts.

## [1.9.0]

### Added

* Add `AsError()` method to internal expression evaluation result unresolvable
  entities to avoid having to manually process each.
* Add `JSONResultEnvelope` to allow evaluation results to be serialized as JSON.
* Add support for Answer resolution.

### Changed

* Allow the internal expression parse trees to take any valid JSON type, not
  just a JSON object.

## [1.8.1]

### Build

* Fix deployment of Python support Wheel.

## [1.8.0]

### Added

* Add support for Python containers and add a Python SDK to work with the
  metadata API.

## [1.7.1]

### Changed

* Fix: Use Docker convention for image tags generated by the Spindle too.

## [1.7.0]

### Added

* Add support for specifying an `inputFile` in place of an `input` array in a
  workflow step.

## [1.6.0]

### Added

* Add output keys to logs.
* Add `!Fn.equals` and `!Fn.notEquals` workflow functions used in conditional
  step execution.
* Allow structured output values in addition to strings.

## [1.5.1]

### Changed

* Fix: Make .git at the end of a Git SSH URL optional.
* Fix: Make the username portion of a Git SSH URL dynamic. You are no longer
  required to use `git` as the username.

## [1.5.0]

### Added

* Add a new spec function, `!Fn.merge`.

## [1.4.0]

### Added

* Add a common interface to read partially hydrated workflow specifications.
* Add a client to retrieve secrets from the metadata API.

## [1.3.0]

### Added

* Add logging interface through go sdk and `ni log` command

## [1.2.0]

### Added

* Add support for validating Nebula workflow files.

## [1.1.1]

### Changed

* Fix: Clear the entrypoint in generated Docker images to align overridden
  Alpine Linux-based image behavior to the standard Alpine Linux image.

## [1.1.0]

### Added

* Initial implementation of the Spindle utility.

## [1.0.1]

### Changed

* Fix: Link `ni` binaries statically by setting `CGO_ENABLED=0`.

## [1.0.0]

### Added

* Public release of the `ni` command.

[Unreleased]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.17.5...HEAD
[1.17.5]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.17.4...v1.17.5
[1.17.4]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.17.3...v1.17.4
[1.17.3]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.17.2...v1.17.3
[1.17.2]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.17.1...v1.17.2
[1.17.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.17.0...v1.17.1
[1.17.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.16.6...v1.17.0
[1.16.6]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.16.5...v1.16.6
[1.16.5]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.16.4...v1.16.5
[1.16.4]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.16.3...v1.16.4
[1.16.3]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.16.2...v1.16.3
[1.16.2]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.16.1...v1.16.2
[1.16.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.16.0...v1.16.1
[1.16.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.15.0...v1.16.0
[1.15.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.14.1...v1.15.0
[1.14.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.14.0...v1.14.1
[1.14.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.13.1...v1.14.0
[1.13.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.13.0...v1.13.1
[1.13.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.12.4...v1.13.0
[1.12.4]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.12.3...v1.12.4
[1.12.3]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.12.2...v1.12.3
[1.12.2]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.12.1...v1.12.2
[1.12.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.12.0...v1.12.1
[1.12.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.11.0...v1.12.0
[1.11.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.10.0...v1.11.0
[1.10.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.9.2...v1.10.0
[1.9.2]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.9.1...v1.9.2
[1.9.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.9.0...v1.9.1
[1.9.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.8.1...v1.9.0
[1.8.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.8.0...v1.8.1
[1.8.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.7.1...v1.8.0
[1.7.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.7.0...v1.7.1
[1.7.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.6.0...v1.7.0
[1.6.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.5.1...v1.6.0
[1.5.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.5.0...v1.5.1
[1.5.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.4.0...v1.5.0
[1.4.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.3.0...v1.4.0
[1.3.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.2.0...v1.3.0
[1.2.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.1.1...v1.2.0
[1.1.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.1.0...v1.1.1
[1.1.0]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.0.1...v1.1.0
[1.0.1]: https://github.com/puppetlabs/relay-sdk-go/compare/v1.0.0...v1.0.1
[1.0.0]: https://github.com/puppetlabs/relay-sdk-go/compare/902be9735b850b21229bf34ddf42a11aba6b315e...v1.0.0
